{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\blood\\\\Documents\\\\School\\\\4A\\\\PST\\\\PST4A\\\\MUSIARK\\\\pst-4a-MusIA\\\\app\\\\src\\\\Components\\\\BarChart.js\",\n  _s = $RefreshSig$();\nimport { useD3 } from '../hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BarChart(_ref) {\n  _s();\n  let {\n    data\n  } = _ref;\n  const ref = useD3(svg => {\n    const box = document.querySelector(\".result\");\n    const width = box.offsetWidth;\n    const height = box.offsetHeight;\n    console.log(width);\n    console.log(height);\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, d => d[1])]).range([0 + width * 0.1, width - width * 0.1]);\n    const yScale = d3.scaleLinear().range([0, height]);\n    const w = width * 0.2;\n    svg.selectAll(\"rect\").data(data).enter().append(\"rect\").attr(\"rx\", 15).attr(\"y\", (d, i) => yScale(i) + (yScale(2) - yScale(1)) / 2 - (yScale(2) - yScale(1)) / 4).attr(\"x\", (d, i) => w - xScale(d[1])).attr(\"width\", (yScale(2) - yScale(1)) / 2).attr(\"height\", (d, i) => xScale(d[1])).attr(\"fill\", \"navy\").attr(\"class\", \"bar\").append(\"title\").text(d => d);\n    svg.selectAll('text.rotation').data(data).enter().append('text').text(d => d[0]).classed('rotation', true).attr('fill', 'black').attr('transform', (d, i) => {\n      return 'translate( ' + (xScale(i) + (xScale(2) - xScale(1)) / 10 + (xScale(2) - xScale(1)) / 2 - (xScale(2) - xScale(1)) / 4) + ' , ' + height * 0.01 + '), rotate(90)';\n    }).style(\"font-size\", width * 0.03);\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref,\n    style: {\n      height: \"100%\",\n      width: \"100%\",\n      marginRight: \"auto\",\n      marginLeft: \"auto\",\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"plot-area\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(BarChart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n_c = BarChart;\nexport default BarChart;\nvar _c;\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"names":["useD3","React","d3","BarChart","data","ref","svg","box","document","querySelector","width","offsetWidth","height","offsetHeight","console","log","xScale","scaleLinear","domain","max","d","range","yScale","w","selectAll","enter","append","attr","i","text","classed","style","marginRight","marginLeft","textAlign"],"sources":["C:/Users/blood/Documents/School/4A/PST/PST4A/MUSIARK/pst-4a-MusIA/app/src/Components/BarChart.js"],"sourcesContent":["import { useD3 } from '../hooks/useD3';\r\nimport React from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nfunction BarChart({ data}) {\r\n  const ref = useD3(\r\n    (svg) => {\r\n      const box = document.querySelector(\".result\");\r\n      const width = box.offsetWidth;\r\n      const height = box.offsetHeight;\r\n      console.log(width)\r\n      console.log(height)\r\n      \r\n      const xScale = d3.scaleLinear()\r\n    \t\t     \r\n             .domain([0, d3.max(data,d=>d[1])])\r\n    \t\t\t .range([0+width*0.1, width-width*0.1]);\r\n      const yScale = d3.scaleLinear()\r\n              \r\n            .range([0, height]);\r\n      const w = width*0.2;    \r\n      \r\n      \r\n      svg.selectAll(\"rect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"rx\",15)\r\n        .attr(\"y\", (d, i) => yScale(i)+ (yScale(2) - yScale(1))/2 - (yScale(2) - yScale(1))/4)\r\n        .attr(\"x\", (d, i) => w - xScale( d[1] ))\r\n        .attr(\"width\", (yScale(2) - yScale(1))/2)\r\n        .attr(\"height\", (d, i) => xScale(d[1] ))\r\n        .attr(\"fill\", \"navy\")\r\n        .attr(\"class\", \"bar\")\r\n        .append(\"title\")\r\n        .text((d) => d);\r\n        \r\n    \r\n      svg.selectAll('text.rotation')\r\n      .data(data)\r\n      .enter()\r\n      .append('text')\r\n      .text((d)=>d[0])\r\n      .classed('rotation', true)\r\n      .attr('fill', 'black')\r\n      .attr('transform', (d,i)=>{\r\n        return 'translate( '+ (xScale(i) + (xScale(2) - xScale(1))/10 + (xScale(2) - xScale(1))/2 - (xScale(2) - xScale(1))/4 ) +' , '+ (height*0.01) +'), rotate(90)';\r\n      })\r\n      .style(\"font-size\",width*0.03);\r\n      \r\n\r\n      \r\n    },\r\n    [data]\r\n  );\r\n\r\n  return (\r\n    <svg\r\n      ref={ref}\r\n      style={{\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        marginRight: \"auto\",\r\n        marginLeft: \"auto\",\r\n        textAlign: \"center\"\r\n      }}\r\n    >\r\n      <g className=\"plot-area\" />\r\n      <g className=\"x-axis\" />\r\n      <g className=\"y-axis\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default BarChart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}